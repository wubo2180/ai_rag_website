import{_ as k,u as h,r as m,a as z,c as B,o as C,b as a,d as o,w as r,e as E,f as l,g as L,h as c,i as N,l as R,j as _,E as g}from"./index-Bn8zWV3R.js";const S={class:"login-container"},U={class:"login-form"},q={class:"login-footer"},M={__name:"Login",setup(j){const w=L(),v=h(),n=m(),u=m(!1),s=z({username:"",password:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},p=async()=>{if(n.value)try{await n.value.validate(),u.value=!0;const t=await v.login(s);t.success?(g.success("登录成功"),w.push("/chat")):g.error(t.error)}catch(t){console.error("登录表单验证失败:",t)}finally{u.value=!1}};return(t,e)=>{const f=l("el-input"),i=l("el-form-item"),V=l("el-button"),y=l("el-form"),b=l("router-link");return C(),B("div",S,[a("div",U,[e[5]||(e[5]=a("h2",null,"登录",-1)),o(y,{model:s,rules:x,ref_key:"formRef",ref:n,onSubmit:E(p,["prevent"])},{default:r(()=>[o(i,{prop:"username"},{default:r(()=>[o(f,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=d=>s.username=d),placeholder:"用户名",size:"large","prefix-icon":c(N)},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,{prop:"password"},{default:r(()=>[o(f,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":c(R),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,null,{default:r(()=>[o(V,{type:"primary",size:"large",style:{width:"100%"},loading:u.value,onClick:p},{default:r(()=>[...e[2]||(e[2]=[_(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a("div",q,[e[4]||(e[4]=a("span",null,"还没有账户？",-1)),o(b,{to:"/register"},{default:r(()=>[...e[3]||(e[3]=[_("立即注册",-1)])]),_:1})])])])}}},T=k(M,[["__scopeId","data-v-0b33a0a9"]]);export{T as default};
